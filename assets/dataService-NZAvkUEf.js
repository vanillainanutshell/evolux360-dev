const s={clientes:[{id:"1",nome:"João Silva",email:"joao@email.com",telefone:"(11) 99999-1111",empresa:"TechStore Ltda"},{id:"2",nome:"Maria Souza",email:"maria@email.com",telefone:"(11) 99999-2222",empresa:"Moda Express"},{id:"3",nome:"Pedro Santos",email:"pedro@email.com",telefone:"(11) 99999-3333",empresa:"Artesanato Brasil"},{id:"4",nome:"Ana Oliveira",email:"ana@email.com",telefone:"(11) 99999-4444",empresa:"Beleza Natural"}],produtos:[{id:"1",nome:"Notebook Dell",preco:4500,estoque:10,descricao:'Notebook Dell Inspiron 15" 8GB RAM'},{id:"2",nome:"Monitor LG",preco:1200,estoque:15,descricao:'Monitor LG 24" Full HD'},{id:"3",nome:"Teclado Mecânico",preco:350,estoque:30,descricao:"Teclado Mecânico RGB"},{id:"4",nome:"Mouse sem fio",preco:120,estoque:50,descricao:"Mouse sem fio com bateria recarregável"},{id:"5",nome:"Headset Gamer",preco:280,estoque:20,descricao:"Headset Gamer com microfone"}],formasPagamento:[{id:"1",nome:"Cartão de Crédito"},{id:"2",nome:"Boleto Bancário"},{id:"3",nome:"PIX"},{id:"4",nome:"Transferência Bancária"}]};class c{constructor(){this.initializeData()}initializeData(){if(localStorage.getItem("evolux_clientes")||localStorage.setItem("evolux_clientes",JSON.stringify(s.clientes)),!localStorage.getItem("evolux_transacoes")){const e=[{id:1,tipo:"receita",descricao:"Venda #001",valor:1500,data:"2024-01-15",categoria:"Venda"},{id:2,tipo:"despesa",descricao:"Aluguel",valor:800,data:"2024-01-10",categoria:"Aluguel"},{id:3,tipo:"receita",descricao:"Venda #002",valor:2300,data:"2024-01-12",categoria:"Venda"}];localStorage.setItem("evolux_transacoes",JSON.stringify(e))}localStorage.getItem("evolux_produtos")||localStorage.setItem("evolux_produtos",JSON.stringify(s.produtos)),localStorage.getItem("evolux_formas_pagamento")||localStorage.setItem("evolux_formas_pagamento",JSON.stringify(s.formasPagamento))}async getClientes(){return new Promise(e=>{setTimeout(()=>{const a=JSON.parse(localStorage.getItem("evolux_clientes")||"[]");e(a)},300)})}async saveCliente(e){return new Promise(a=>{setTimeout(()=>{const t=JSON.parse(localStorage.getItem("evolux_clientes")||"[]");if(e.id){const o=t.findIndex(n=>n.id===e.id);o!==-1&&(t[o]=e)}else e.id=Date.now().toString(),t.push(e);localStorage.setItem("evolux_clientes",JSON.stringify(t)),a(e)},500)})}async deleteCliente(e){return new Promise((a,t)=>{setTimeout(()=>{try{const o=JSON.parse(localStorage.getItem("evolux_clientes")||"[]"),n=o.findIndex(i=>i.id===e);if(n===-1){t(new Error("Cliente não encontrado"));return}const r=o.splice(n,1)[0];localStorage.setItem("evolux_clientes",JSON.stringify(o)),a(r)}catch(o){t(o)}},500)})}async getTransacoes(){return new Promise(e=>{setTimeout(()=>{const a=JSON.parse(localStorage.getItem("evolux_transacoes")||"[]");e(a)},300)})}async saveTransacao(e){return new Promise(a=>{setTimeout(()=>{const t=JSON.parse(localStorage.getItem("evolux_transacoes")||"[]");e.id=Date.now(),t.unshift(e),localStorage.setItem("evolux_transacoes",JSON.stringify(t)),a(e)},500)})}async getProdutos(){return new Promise(e=>{setTimeout(()=>{const a=JSON.parse(localStorage.getItem("evolux_produtos")||"[]");e(a)},300)})}async getFormasPagamento(){return new Promise(e=>{setTimeout(()=>{const a=JSON.parse(localStorage.getItem("evolux_formas_pagamento")||"[]");e(a)},300)})}async getVendas(e){return new Promise(a=>{setTimeout(()=>{let t=JSON.parse(localStorage.getItem("vendas")||"[]");if(t.length===0){const o=[{id:"1",cliente:s.clientes[0],itens:[{produto:s.produtos[0],quantidade:1,precoUnitario:s.produtos[0].preco,subtotal:s.produtos[0].preco}],total:s.produtos[0].preco,formaPagamento:s.formasPagamento[0],data:"2023-11-15T10:30:00Z",status:"pago"},{id:"2",cliente:s.clientes[1],itens:[{produto:s.produtos[1],quantidade:2,precoUnitario:s.produtos[1].preco,subtotal:s.produtos[1].preco*2}],total:s.produtos[1].preco*2,formaPagamento:s.formasPagamento[2],data:"2023-11-20T14:45:00Z",status:"pendente"}];localStorage.setItem("vendas",JSON.stringify(o)),t=o}e&&(e.clienteId&&(t=t.filter(o=>o.cliente.id===e.clienteId)),e.dataInicio&&(t=t.filter(o=>new Date(o.data)>=new Date(e.dataInicio))),e.dataFim&&(t=t.filter(o=>new Date(o.data)<=new Date(e.dataFim))),e.status&&(t=t.filter(o=>o.status===e.status))),a(t)},500)})}async saveVenda(e){return new Promise(a=>{setTimeout(()=>{const t=JSON.parse(localStorage.getItem("vendas")||"[]"),o={id:Date.now().toString(),...e,data:e.data||new Date().toISOString(),status:"pendente"};t.push(o),localStorage.setItem("vendas",JSON.stringify(t)),a(o)},500)})}async getVendaById(e){return new Promise(a=>{setTimeout(()=>{const o=JSON.parse(localStorage.getItem("vendas")||"[]").find(n=>n.id===e)||null;a(o)},300)})}}const d=new c;export{d};
